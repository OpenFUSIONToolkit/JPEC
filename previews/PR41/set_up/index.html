<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Setup · JPEC.jl</title><meta name="title" content="Setup · JPEC.jl"/><meta property="og:title" content="Setup · JPEC.jl"/><meta property="twitter:title" content="Setup · JPEC.jl"/><meta name="description" content="Documentation for JPEC.jl."/><meta property="og:description" content="Documentation for JPEC.jl."/><meta property="twitter:description" content="Documentation for JPEC.jl."/><meta property="og:url" content="https://OpenFUSIONToolkit.github.io/JPEC/set_up/"/><meta property="twitter:url" content="https://OpenFUSIONToolkit.github.io/JPEC/set_up/"/><link rel="canonical" href="https://OpenFUSIONToolkit.github.io/JPEC/set_up/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JPEC.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Setup</a><ul class="internal"><li><a class="tocitem" href="#On-Windows-via-WSL-(Ubuntu)"><span>On Windows via WSL (Ubuntu)</span></a></li><li><a class="tocitem" href="#On-macOS"><span>On macOS</span></a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../splines/">Splines</a></li><li><a class="tocitem" href="../vacuum/">Vacuum</a></li><li><a class="tocitem" href="../equilibrium/">Equilibrium</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/splines/">Spline Examples</a></li><li><a class="tocitem" href="../examples/vacuum/">Vacuum Examples</a></li><li><a class="tocitem" href="../examples/equilibrium/">Equilibrium Examples</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Setup</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Setup</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/OpenFUSIONToolkit/JPEC" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/OpenFUSIONToolkit/JPEC/blob/develop/docs/src/set_up.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Setting-up-JPEC"><a class="docs-heading-anchor" href="#Setting-up-JPEC">Setting up JPEC</a><a id="Setting-up-JPEC-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-JPEC" title="Permalink"></a></h1><ul><li><a href="#setting-up-jpec">Setting up JPEC</a><ul><li><a href="#on-windows-via-wsl-ubuntu">On Windows via WSL (Ubuntu)</a></li><li><a href="#on-macos">On macOS</a></li></ul></li></ul><h2 id="On-Windows-via-WSL-(Ubuntu)"><a class="docs-heading-anchor" href="#On-Windows-via-WSL-(Ubuntu)">On Windows via WSL (Ubuntu)</a><a id="On-Windows-via-WSL-(Ubuntu)-1"></a><a class="docs-heading-anchor-permalink" href="#On-Windows-via-WSL-(Ubuntu)" title="Permalink"></a></h2><ol><li><p>Install WSL and Ubuntu If you don&#39;t already have WSL and Ubuntu installed, set this up. <a href="https://learn.microsoft.com/en-us/windows/wsl/install">This page</a> gives detailed instructions on how to complete the installation. In the Windows Powershell,</p><ol><li>Make sure WSL is installed:   <code>PowerShell   wsl --install</code></li><li>Set Ubuntu as your default WSL distro:   <code>PowerShell   wsl --set-default Ubuntu</code></li><li>Launch Ubuntu and update:   <code>PowerShell   sudo apt update &amp;&amp; sudo apt upgrade -y</code></li></ol></li><li><p>Install build tools in WSL  <code>shell  sudo apt install build-essential gfortran cmake -y</code></p><p><code>build-essential</code> → GCC, make</p><p><code>gfortran</code> → Fortran compiler</p><p><code>cmake</code> → sometimes needed by dependencies</p></li><li><p>Install Julia in WSL</p><ol><li><p>Download the latest Linux tarball from the official site <a href="https://julialang.org/downloads/">Julia downloads</a>. It will look like  <code>shell   wget https://julialang-s3.julialang.org/bin/linux/x64/1.11/julia-1.11.3-linux-x86_64.tar.gz</code></p><p>☆ Replace the URL with the latest stable version.</p></li><li><p>Extract and move it to /opt (or any path):</p><p><code>shell  tar -xvzf julia-1.11.3-linux-x86_64.tar.gz  sudo mv julia-1.11.3 /opt/</code></p><p>☆ Ensure these commands match the tarball you installed. These commands match the above tarball and might need to be modified for you installation.</p></li></ol><ol><li><p>Add Julia to PATH:</p><p><code>shell   echo &#39;export PATH=/opt/julia-1.11.3/bin:$PATH&#39; &gt;&gt; ~/.bashrc  source ~/.bashrc</code></p></li><li><p>Test it is properly installed</p><p><code>shell  julia --version</code></p></li></ol></li><li><p>Install Python/Jupyter in WSL </p><p>This step is only really required if you want to run the <code>.ipynb</code> test notebooks.</p><ol><li>To install Python3 and Jupyter notebooks, use these commands   <code>shell   sudo apt install python3-pip python3-venv -y   python3 -m pip install --user jupyter jupyterlab notebook ipykernel</code></li></ol><p>⚠ Important: Add local Python scripts to PATH:</p><pre><code class="nohighlight hljs"> ```shell
 echo &#39;export PATH=$HOME/.local/bin:$PATH&#39; &gt;&gt; ~/.bashrc
 source ~/.bashrc
 ```</code></pre><ol><li><p>Verify it is properly installed</p><p><code>shell  jupyter --version</code></p></li></ol></li><li><p>Clone or move JPEC into WSL home folder.</p></li></ol><p>It’s recommended to avoid OneDrive for builds (slower, permission issues):     <code>shell     cp -r /mnt/c/Users/&lt;Username&gt;/&lt;Path&gt;/JPEC ~/JPEC     cd ~/JPEC</code></p><pre><code class="nohighlight hljs">Where `&lt;Username&gt;/&lt;Path&gt;` is replaced with the path to the JPEC file you cloned to your local machine.

**OR**

Alternatively you can clone it from GitHub directly to your virtual machine.

```shell
git clone https://github.com/OpenFUSIONToolkit/JPEC.git
cd JPEC
```

Technically, you can use the don&#39;t have to copy it from your local installation and you can just `cd mnt/c/Users/&lt;Username&gt;/&lt;Path&gt;/JPEC`, but this in not recommended.</code></pre><ol><li><p>Build Fortran dependencies (libspline.so)</p><ol><li><p>Go to the spline source folder:  <code>shell  cd ~/JPEC/src/Splines/fortran</code></p></li><li><p>Edit Makefile for Linux/WSL compatibility. SInce many of the current developers use macOS systems, the Makefile is set up for macOS. In the makefile (<code>JPEC/src/Splines/fortran/makefile</code>), set  <code>Makefile  LIBS ?=</code></p><p>instead of   <code>Makefile  LIBS ?=</code></p><p>which only works for macOS. Additionally <code>.dylib</code> is a file type that is not recognized on Linux, instead Linux uses <code>.so</code> files. So, add   <code>Makefile  LIBSUFFIX ?= .so</code></p><p>to the makefile in place of   <code>Makefile  LIBSUFFIX ?= .dylib</code>  the Mac version.</p><p>⚠ Important: Be careful <strong>not to commit</strong> changes to the makefile as most developers use macOS.</p></li></ol></li></ol><pre><code class="nohighlight hljs">3. Back in the shell, clean previous builds using
    ```shell
    make clean
    ```

4. Build
    ```shell
    make
    ```

5. Verify the library exists using
    ```shell
    ls ../../../deps/libspline.so
    ```</code></pre><ol><li><p>Export library path so Julia can find it   <code>shell   export LD_LIBRARY_PATH=~/JPEC/deps:$LD_LIBRARY_PATH</code></p><p>Optional: add to <code>~/.bashrc</code> for persistence.</p></li><li><p>Install the Julia packages for JPEC</p></li></ol><pre><code class="nohighlight hljs">1. Launch Julia:
    ```shell
    julia
    ```
2. In Julia REPL:
    ``` julia
    using Pkg
    Pkg.instantiate()       # install recorded dependencies
    Pkg.add(&quot;Preferences&quot;)  # install missing dependency if needed
    Pkg.build(&quot;IJulia&quot;)     # rebuild kernel
    Pkg.precompile()        # precompile all packages - probably unnecessary 
    ```</code></pre><ol><li><p>At this point, you should be able to run the code, open a <code>.ipynb</code> notebook, or connect VS Code to your WSL session.</p><ol><li><p>To open a .ipynb notebook</p><ol><li>Launch Jupyter from WSL, make sure you have exited Julia using the <code>exit()</code> command and then type in the shell</li></ol><p><code>shell  jupyter notebook --no-browser</code>  It will print a URL with a token.</p><ol><li>Copy the URL into your Windows browser <strong>OR</strong> open the notebook in VS Code using the <strong>Remote - WSL</strong> extension.</li></ol></li><li><p>(Optionally) Integrate WSL with VS Code</p><ol><li>Install <strong>Remote - WSL</strong> extension in VS Code.</li><li>Open VS Code → Connect To → Connect to WSL.</li><li>Click Open Folder and then navigate to the JPEC folder on your VM. Open your JPEC folder from WSL: ~/JPEC.</li></ol><p>If this is not working, you can launch vscode from the WSL shell you have using the command <code>code .</code></p><ol><li><p>Open a terminal inside VS Code — it will automatically use WSL/Ubuntu.</p></li><li><p>You can now run:  <code>shell  make        # rebuild libspline.so if needed  julia       # run scripts  jupyter notebook --no-browser</code></p></li><li><p>VS Code also lets you open <code>.ipynb</code> notebooks in the WSL environment using the Jupyter extension. Click the &quot;Select Kernel&quot; button in the top right hand of the <code>.ipynb</code> file and select the Julia kernel installed in WSL.All dependencies (libspline.so, Julia packages) are accessible.</p></li></ol></li><li><p>Run JPEC</p><ol><li>Make sure you are in WSL terminal, with <code>LD_LIBRARY_PATH</code> set to include deps.</li><li>Launch Julia and run your scripts as usual:  <code>shell  include(&quot;path/to/jpec_script.jl&quot;)</code></li></ol></li></ol></li></ol><h2 id="On-macOS"><a class="docs-heading-anchor" href="#On-macOS">On macOS</a><a id="On-macOS-1"></a><a class="docs-heading-anchor-permalink" href="#On-macOS" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../splines/">Splines »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 9 October 2025 21:53">Thursday 9 October 2025</span>. Using Julia version 1.11.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
